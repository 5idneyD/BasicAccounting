<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
		<meta
			name="keywords"
			content="accounting, basic accounting, accountant, simple accounting, accounting software, no variance, variance accounting" />
		<meta
			name="description"
			content="Accounting software that can handle all day-to-day activities of business accounting" />
		{% if company %} {% set space, company, email, username, session_key, page = request.path.split("/") %}
		<meta
			name="logo"
			id="{{url_for('dashboard', company=company, email=email, username=username, session_key=session_key )}}" />
		{% else %}
		<meta name="logo" id="{{url_for('index')}}" />
		{% endif %} {% block meta %} {% endblock %}
		<link href="https://fonts.googleapis.com/css2?family=Lora&display=swap" rel="stylesheet" />

		<link rel="stylesheet" href="{{url_for('static', filename='styles/new-main.min.css')}}" />

		<link rel="icon" href="{{url_for('static', filename='images/favicon.ico')}}" type="image/x-icon" />
		<title>No Variance</title>
		<script defer type="text/javascript" src="https://unpkg.com/xlsx@0.15.1/dist/xlsx.full.min.js"></script>
		{% if design %} {% endif %}
	</head>
	<body>
		<div id="heading" class="">
			<div id="heading-top">
				<div id="logo">No Variance</div>
				<div id="nav">
					<div class="nav-option">Home</div>
					<div class="nav-option">Settings</div>
					<div class="nav-option">Log Out</div>
				</div>
			</div>
			<div id="heading-bottom">
				<div id="user">
					<b>{{username}}</b><br />
					{{company}}
				</div>
				<div class="box">Sales</div>
				<div class="box">Purchase</div>
				<div class="box">Financial</div>
				<div class="box">Other</div>
			</div>
		</div>
		<div id="body">
			{% block body %} {% endblock %}
		</div>
		<script defer>
			// This is to import the logo, giving it different anchor refs depending on if its logged in or not
			let meta = document.head.querySelector("meta[name='logo']").id;
			let heading = document.querySelector("#heading");

			function logoResize(x) {
				if (x.matches) {
					let src = "{{url_for('static', filename='images/nv.png')}}";
					return src;
				} else {
					let src = "{{url_for('static', filename='images/no_variance.png')}}";
					return src;
				}
			}
			let x = window.matchMedia("(max-width: 600px)");
			let img = logoResize(x);
			heading.innerHTML =
				heading.innerHTML + "<a href=" + meta + "><img src=" + img + " alt='No Variance Logo'/></a>";
		</script>
	</body>
</html>
