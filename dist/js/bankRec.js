let invoicesTable=document.querySelector("table[name='unpaid_invoices']"),recTable=document.querySelector("table[name='current_rec']"),recSum=document.querySelector("#rec_sum");recSum.style.display="none";function invoicesTableShow(){invoicesTable.style.display="revert",recSum.style.display="none"}function recTableShow(){invoicesTable.style.display="none",recSum.style.display="revert"}function addToRec(t){let e=t.parentNode.parentNode;e.lastElementChild.lastElementChild.setAttribute("onclick","removeFromRec(this)"),recTable.appendChild(e),sumTotal()}function removeFromRec(t){let e=t.parentNode.parentNode;e.lastElementChild.lastElementChild.setAttribute("onclick","addFromRec(this)"),invoicesTable.appendChild(e),sumTotal()}let totalSum=document.querySelector("#total_value");function sumTotal(){let t=0;for(let e=1;e<recTable.rows.length;e++){let l=parseFloat(recTable.rows[e].childNodes[9].childNodes[0].value);recTable.rows[e].childNodes[1].children[0].value=="sales_invoice"?t+=l:t-=l}totalSum.innerText=t}let filters=["",""],clientSearch=document.querySelector("#unpaid_invoices_client_search"),invoiceSearch=document.querySelector("#unpaid_invoices_invoice_search");document.addEventListener("keyup",function(){let t=invoicesTable.getElementsByTagName("tr");filters[0]=clientSearch.value.toUpperCase(),filters[1]=invoiceSearch.value.toUpperCase();for(let e=1;e<t.length;e++){let l=t[e].childNodes[3].children[0].value.toUpperCase(),n=t[e].childNodes[5].children[0].value.toUpperCase();l.includes(filters[0])&&n.includes(filters[1])?t[e].style.display="":t[e].style.display="none"}});
