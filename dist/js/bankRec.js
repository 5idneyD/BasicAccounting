let invoicesTable=document.querySelector("table[name='unpaid_invoices']"),recTable=document.querySelector("table[name='current_rec']"),recSum=document.querySelector("#rec_sum");recSum.style.display="none";function invoicesTableShow(){invoicesTable.style.display="revert",recSum.style.display="none"}function recTableShow(){invoicesTable.style.display="none",recSum.style.display="revert"}function addToRec(l){let e=l.parentNode.parentNode;e.lastElementChild.lastElementChild.setAttribute("onclick","removeFromRec(this)"),recTable.appendChild(e),sumTotal()}function removeFromRec(l){let e=l.parentNode.parentNode;e.lastElementChild.lastElementChild.setAttribute("onclick","addFromRec(this)"),invoicesTable.appendChild(e),sumTotal()}let totalSum=document.querySelector("#total_value");function sumTotal(){let l=0;for(let e=1;e<recTable.rows.length;e++){let t=parseFloat(recTable.rows[e].childNodes[9].childNodes[0].value);console.log(recTable.rows[e].childNodes[1].childNodes[0].value),recTable.rows[e].childNodes[1].children[0].value=="sales_invoice"?l+=t:l-=t}totalSum.innerText=l}let filters=["",""],clientSearch=document.querySelector("#unpaid_invoices_client_search"),invoiceSearch=document.querySelector("#unpaid_invoices_invoice_search");document.addEventListener("keyup",function(){let l=invoicesTable.getElementsByTagName("tr");filters[0]=clientSearch.value.toUpperCase(),filters[1]=invoiceSearch.value.toUpperCase();for(let e=1;e<l.length;e++){let t=l[e].childNodes[3].children[0].value.toUpperCase(),o=l[e].childNodes[5].children[0].value.toUpperCase();t.includes(filters[0])&&o.includes(filters[1])?l[e].style.display="":l[e].style.display="none"}});
