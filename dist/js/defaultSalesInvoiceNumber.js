var references=document.querySelector("#references").dataset.references,company=document.querySelector("#references").dataset.company,invoice_number_element=document.querySelector("#invoice_number"),submitButton=document.querySelector("#submitButton"),last_reference=references.split("'")[references.split("'").length-2],last_number=last_reference.replace(/^\D+/g,""),new_number=Number(last_number)+1;invoice_number_element.value=new_number;invoice_number_element.addEventListener("change",function(){var e=company+invoice_number_element.value;references.includes(e)?(invoice_number_element.style.border="1px solid red",document.querySelector("#submitButton").type="button"):(invoice_number_element.style.border="1px solid gray",document.querySelector("#submitButton").type="submit",document.querySelector("#submitButton").classList.remove("error"))});document.addEventListener("click",function(e){if(console.log(e.target.id),document.querySelector("#submitButton").type=="button"&&e.target.id=="submitButton"){var t=document.querySelector("#invoice_number");t.classList.toggle("error")}});
